(()=>{var e={877:e=>{e.exports=e=>(t,n)=>{if(0!==t)return;if("function"!=typeof e)return n(0,(()=>{})),void n(2);let r,o;const i=e=>{r=r||2===e,r&&"function"==typeof o&&o()};n(0,i),o=e(((e,t)=>{r||0===e||(n(e,t),i(e))}))}},996:e=>{e.exports=e=>t=>(n,r)=>{if(0!==n)return;let o;t(0,((t,n)=>{0===t?(o=n,r(t,n)):1===t?e(n)?r(t,n):o(1):r(t,n)}))}},678:()=>{},341:()=>{},669:()=>{},210:()=>{},308:()=>{},19:()=>{},365:()=>{},825:()=>{},977:()=>{},764:e=>{e.exports=function(){return this.cf.core}()},901:e=>{e.exports=function(){return this.cf.vendor["callbag-basics"]}()},831:e=>{e.exports=function(){return this.cf.vendor.classnames}()},388:e=>{e.exports=function(){return this.cf.vendor.immer}()},319:e=>{e.exports=function(){return this.cf.vendor["refract-callbag"]}()},769:e=>{e.exports=function(){return this.lodash}()},350:e=>{e.exports=function(){return this.wp.compose}()},287:e=>{e.exports=function(){return this.wp.data}()},318:e=>{e.exports=function(){return this.wp.element}()},586:e=>{e.exports=function(){return this.wp.hooks}()},197:e=>{e.exports=function(){return this.wp.i18n}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{getContainerType:()=>et,registerContainerType:()=>Ze});var e={};n.r(e),n.d(e,{addContainer:()=>x,addFields:()=>E,cloneFields:()=>P,lockSaving:()=>F,receiveSidebar:()=>I,removeContainer:()=>D,removeFields:()=>S,setupState:()=>O,unlockSaving:()=>T,updateFieldValue:()=>j,updateState:()=>w});var t={};n.r(t),n.d(t,{getComplexGroupValues:()=>U,getContainerById:()=>C,getContainers:()=>A,getFieldById:()=>R,getFields:()=>k,getFieldsByContainerId:()=>N,isDirty:()=>L,isFieldUpdated:()=>B,isSavingLocked:()=>G});var o=n(197),i=n(586),a=n(287),c=n(769),u=n.n(c);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}function f(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(388),p=n.n(d),b=n(764);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n,r){var o=(0,c.cloneDeep)(n[e]);return o.id=t,"complex"===o.type&&o.value.forEach((function(e){e.id=(0,b.uniqueId)(),r=e.fields.reduce((function(e,t){var r=t.id,o=(0,b.uniqueId)();return t.id=o,v(r,o,n,e)}),r)})),r.concat(o)}function g(e,t,n){var r=t[e];return"complex"===r.type&&r.value.forEach((function(e){n=e.fields.reduce((function(e,n){return g(n.id,t,e)}),n)})),n.concat(e)}const h=(0,a.combineReducers)({containers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_STATE":return t.payload.containers;case"UPDATE_STATE":return p()(e,(function(e){(0,c.values)(t.payload.containers).forEach((function(t){e[t.id]=t}))}));case"ADD_CONTAINER":return p()(e,(function(e){e[t.payload.id]=t.payload}));case"REMOVE_CONTAINER":return(0,c.omit)(e,t.payload);default:return e}},fields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_STATE":return t.payload.fields;case"UPDATE_STATE":return p()(e,(function(e){(0,c.values)(t.payload.fields).forEach((function(t){e[t.id]=t}))}));case"UPDATE_FIELD_VALUE":return p()(e,(function(n){var r=t.payload,o=r.fieldId,i=r.value,a=r.fieldsToRemove;n[o].value=i,a.reduce((function(t,n){return g(n,e,t)}),[]).forEach((function(e){(0,c.unset)(n,e)}))}));case"ADD_FIELDS":return p()(e,(function(e){t.payload.fields.forEach((function(t){e[t.id]=t}))}));case"CLONE_FIELDS":return p()(e,(function(e){var n=t.payload,r=n.originFieldIds,o=n.cloneFieldIds,i=r.reduce((function(t,n,r){return v(n,o[r],e,t)}),[]);(0,c.assign)(e,(0,c.keyBy)(i,"id"))}));case"REMOVE_FIELDS":var n=t.payload.fieldIds.reduce((function(t,n){return g(n,e,t)}),[]);return(0,c.omit)(e,n);case"RECEIVE_SIDEBAR":return p()(e,(function(e){(0,c.forEach)(e,(function(e){"sidebar"===e.type&&e.options.unshift(t.payload)}))}));default:return e}},savingLock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOCK_SAVING":return y(y({},e),{},f({},t.payload.lockName,!0));case"UNLOCK_SAVING":return(0,c.omit)(e,[t.payload.lockName]);default:return e}},isDirty:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"UPDATE_FIELD_VALUE"===(arguments.length>1?arguments[1]:void 0).type||e},isFieldUpdated:function(e,t){return"UPDATE_FIELD_VALUE"===t.type&&{action:t}}});function O(e,t){return{type:"SETUP_STATE",payload:{containers:e,fields:t}}}function w(e,t){return{type:"UPDATE_STATE",payload:{containers:e,fields:t}}}function j(e,t){return{type:"UPDATE_FIELD_VALUE",payload:{fieldId:e,value:t,fieldsToRemove:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]}}}function E(e){return{type:"ADD_FIELDS",payload:{fields:e}}}function P(e,t){return{type:"CLONE_FIELDS",payload:{originFieldIds:e,cloneFieldIds:t}}}function S(e){return{type:"REMOVE_FIELDS",payload:{fieldIds:e}}}function x(e){return{type:"ADD_CONTAINER",payload:e}}function D(e){return{type:"REMOVE_CONTAINER",payload:e}}function I(e){return{type:"RECEIVE_SIDEBAR",payload:e}}function F(e){return{type:"LOCK_SAVING",payload:{lockName:e}}}function T(e){return{type:"UNLOCK_SAVING",payload:{lockName:e}}}function A(e){return e.containers}function C(e,t){return e.containers[t]}function k(e){return e.fields}function N(e,t){return(0,c.filter)(e.fields,["container_id",t])}function R(e,t){return e.fields[t]}function G(e){return Object.keys(e.savingLock).length>0}function L(e){return e.isDirty}function B(e){return e.isFieldUpdated}function U(e,t){var n=(0,c.pick)(k(e),t);return n=(0,c.mapKeys)(n,(function(e){return e.base_name.replace(/\-/g,"_")})),(0,c.mapValues)(n,(function(e){return e.value}))}function V(e,t,n){return(e=(0,c.cloneDeep)(e)).id=(0,b.uniqueId)(),e.container_id=t,"complex"===e.type&&e.value.forEach((function(e){e.id=(0,b.uniqueId)(),e.container_id=t,e.fields=e.fields.map((function(e){return V(e,t,n)}))})),n.push(e),(0,c.pick)(e,["id","type","name","base_name"])}function q(e){var t=[];return{containers:e.filter((function(e){var t=e.id;return!(0,c.endsWith)(t,"__i__")})).map((function(e){return(0,c.assign)({},e,{fields:e.fields.map((function(n){return V(n,e.id,t)}))})})),fields:t}}(0,a.registerStore)("carbon-fields/metaboxes",{reducer:h,actions:e,selectors:t});var M=q((0,c.get)(window.cf,"preloaded.containers",[])),Q=M.containers,K=M.fields;(0,a.dispatch)("carbon-fields/metaboxes").setupState((0,c.keyBy)(Q,"id"),(0,c.keyBy)(K,"id"));var $=n(350);const W=(0,$.createHigherOrderComponent)((function(e){var t=(0,a.withSelect)((function(e,t){var n=window.cf.config,r=n.compactInput,o=n.compactInputKey,i=e("carbon-fields/metaboxes").getFieldById(t.id),a=i&&i.value,c=t.name||i.name;return r&&!t.name&&-1===c.indexOf("widget-carbon_fields")&&(c="".concat(o,"[").concat(c,"]")),{field:i,name:c,value:a}})),n=(0,a.withDispatch)((function(e){return{onChange:e("carbon-fields/metaboxes").updateFieldValue}}));return(0,$.compose)(t,n)(e)}),"withField");function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){if(0===e){var r=!1;for(n(0,(function(e){2===e&&(r=!0,t.length=0)}));0!==t.length;)n(1,t.shift());r||n(2)}}},Y={};var Z=function(e,t){return e===t};const ee=function(e){return void 0===e&&(e=Z),function(t){return function(n,r){if(0===n){var o,i,a=!1;t(0,(function(t,n){0===t&&(i=n),1===t?a&&e(o,n)?i(1):(a=!0,o=n,r(1,n)):r(t,n)}))}}}};var te=n(901);function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return void 0===e?[]:(0,c.pick)(t,(0,c.difference)((0,c.map)(e.fields,"id"),n))}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,c.map)(e,(function(e){return[e.id,"".concat((0,c.repeat)("parent.",t)).concat(e.base_name)]}))}const oe=(0,b.withConditionalLogic)((function(e,t){var n=(0,a.select)("carbon-fields/metaboxes").getFieldsByContainerId;return(0,te.pipe)((0,te.merge)(X(n(e.containerId)),(0,b.fromSelector)(n,e.containerId)),(e=>t=>(n,r)=>{if(0!==n)return;let o,i,a=!1,c=Y;t(0,((t,n)=>{if(0===t)return o=n,e(0,((e,t)=>0===e?(i=t,void i(1)):1===e?(c=void 0,i(2),o(2),void(a&&r(2))):void(2===e&&(i=null,null!=t&&(c=t,o(2),a&&r(e,t)))))),a=!0,r(0,((e,t)=>{c===Y&&(2===e&&i&&i(2),o(e,t))})),void(c!==Y&&r(2,c));2===t&&i&&i(2),r(t,n)}))})(t.unmount),ee(c.isEqual))}),(function(e,t){t=(0,c.keyBy)(t,"id");var n=(0,a.select)("carbon-fields/metaboxes").getContainerById(e.containerId),r=[];if((0,c.some)(n.fields,["id",e.id]))r=re(r=ne(n,t,[e.id]));else{var o=e.name.replace(new RegExp("^".concat(window.cf.config.compactInputKey,"\\[(.+?)\\]")),"$1"),i=(0,c.find)(t,(function(t){return t.container_id===e.containerId&&(0,c.startsWith)(o,t.name)})),u=o.split(/\[|\]/g);u.shift(),(u=u.filter((function(e){return""!==e}))).pop();var l=u.reduce((function(e,t){return isNaN(t)?e+1:e}),0);r=re(r=ne(n,t,[i.id]),l+1);for(var s="".concat(i.id,".value");u.length>0;){var f=u.shift(),d=!isNaN(f),p=!d;if(d){s="".concat(s,"[").concat(f,"]");var b=ne((0,c.get)(t,s),t,[e.id]);r=r.concat(re(b,l)),s="".concat(s,".fields")}if(p){var m=(0,c.find)((0,c.get)(t,s),["name",f]);m&&(s="".concat(m.id,".value")),l--}}}return r=r.map((function(e){var n=J(e,2),r=n[0];return[n[1],(0,c.get)(t,"".concat(r,".value"))]})),(0,c.fromPairs)(r)}));function ie(){return!(0,c.isUndefined)(window._wpLoadBlockEditor)}function ae(e,t){return(0,c.find)(e,(function(e){return e.name===t}))}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function le(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return(fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}function pe(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return se(e)}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(0,i.addFilter)("carbon-fields.association.metabox","carbon-fields/metaboxes",(0,b.withProps)((function(e){return{hierarchyResolver:function(){var t,n,r,o,i=(0,a.select)("carbon-fields/metaboxes").getContainerById(e.containerId),u=(0,a.select)("carbon-fields/metaboxes").getFieldsByContainerId(e.containerId),l=(t=e.name,n=window.cf.config,r=n.compactInput,o=n.compactInputKey,r&&0===t.indexOf(o)?t.replace(new RegExp("^".concat(o,"\\[(.+?)\\]")),"$1"):t).split(/\[|\]/g);if(l=l.filter((function(e){return""!==e})),"widget"===i.type)return e.field.base_name;for(var s=ae(u,l.shift()),f=u.indexOf(s),d=s.base_name;l.length>0;){var p=l.shift(),b=!isNaN(p),m=p===e.field.base_name,y=!b&&!m;if(b&&(f="".concat(f,".value.").concat(p,".name"),d="".concat(d,"[").concat(p,"]:").concat((0,c.get)(u,f),"/")),y){var v=ae((0,c.get)(u,f.replace(/\.name$/,".fields")),p),g=(0,c.find)(u,["id",v.id]);f=u.indexOf(g),d="".concat(d).concat(g.base_name)}m&&(d="".concat(d).concat(p))}return d}}})));var me=n(318);n(19),n(341);const ye=(0,$.compose)(W,(0,b.withFilters)("carbon-fields.field-wrapper.metabox"))(b.Field);var ve=function(e){de(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}(n);function n(){var e;ce(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return f(se(e=t.call.apply(t,[this].concat(o))),"handleAddGroup",(function(t,n){var r=e.props,o=r.id,i=r.field,a=r.value,u=r.addFields,l=r.onChange;t=(0,c.cloneDeep)(t);var s=[];t.id=(0,b.uniqueId)(),t.container_id=i.container_id,t.fields=t.fields.map((function(e){return V(e,i.container_id,s)})),t.collapsed=!1,u(s),l(o,a.concat(t)),n(t)})),f(se(e),"handleCloneGroup",(function(t,n){var r=e.props,o=r.id,i=r.value,a=r.cloneFields,u=r.onChange,l=t.fields.map((function(e){return e.id})),s=l.map((function(){return(0,b.uniqueId)()})),f=(0,c.cloneDeep)(t);f.id=(0,b.uniqueId)(),f.fields.forEach((function(e,t){e.id=s[t]})),a(l,s),u(o,p()(i,(function(e){e.splice(i.indexOf(t)+1,0,f)}))),n(f)})),f(se(e),"handleRemoveGroup",(function(t){var n=e.props,r=n.id,o=n.value;(0,n.onChange)(r,(0,c.without)(o,t),t.fields.map((function(e){return e.id})))})),f(se(e),"handleToggleGroup",(function(t){var n=e.props,r=n.field,o=n.value;(0,n.onChange)(r.id,p()(o,(function(e){var n=(0,c.find)(e,["id",t]);n.collapsed=!n.collapsed})))})),f(se(e),"handleToggleAllGroups",(function(t){var n=e.props,r=n.field,o=n.value;(0,n.onChange)(r.id,p()(o,(function(e){e.forEach((function(e){e.collapsed=t}))})))})),f(se(e),"handleGroupSetup",(function(t,n){return(0,c.assign)({},n,{id:t.id,name:t.name,prefix:"".concat(e.props.name,"[").concat(n.index,"]"),fields:t.fields,collapsed:t.collapsed,context:"metabox"})})),f(se(e),"handleGroupFieldSetup",(function(t,n,r){return[ye,(0,c.assign)({},n,{key:t.id,id:t.id,containerId:e.props.containerId,name:"".concat(r.prefix,"[").concat(t.name,"]")})]})),e}return le(n,[{key:"render",value:function(){var e=this.handleGroupSetup,t=this.handleGroupFieldSetup,n=this.handleAddGroup,r=this.handleCloneGroup,o=this.handleRemoveGroup,i=this.handleToggleGroup,a=this.handleToggleAllGroups,c=this.props,u=c.value;return(0,c.children)({allGroupsAreCollapsed:u.every((function(e){return e.collapsed})),handleGroupSetup:e,handleGroupFieldSetup:t,handleAddGroup:n,handleCloneGroup:r,handleRemoveGroup:o,handleToggleGroup:i,handleToggleAllGroups:a})}}]),n}(me.Component),ge=(0,a.withSelect)((function(e,t){var n=e("carbon-fields/metaboxes").getComplexGroupValues;return{groupValues:t.value.map((function(e){var t=e.fields.map((function(e){return e.id}));return[e.name,n(t)]}))}})),he=(0,a.withDispatch)((function(e){var t=e("carbon-fields/metaboxes");return{addFields:t.addFields,cloneFields:t.cloneFields}}));function Oe(){return(Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(0,i.addFilter)("carbon-fields.complex.metabox","carbon-fields/metaboxes",(function(e){return(0,$.compose)(ge,he)((function(t){var n=t.id,r=t.field,o=t.name,i=t.value,a=t.groupValues;return wp.element.createElement(ve,t,(function(c){var u=c.allGroupsAreCollapsed,l=c.handleGroupSetup,s=c.handleGroupFieldSetup,f=c.handleAddGroup,d=c.handleCloneGroup,p=c.handleRemoveGroup,b=c.handleToggleGroup,m=c.handleToggleAllGroups;return wp.element.createElement(e,{groupIdKey:"id",groupFilterKey:"name",id:n,field:r,name:o,value:i,groupValues:a,allGroupsAreCollapsed:u,onGroupSetup:l,onGroupFieldSetup:s,onAddGroup:f,onCloneGroup:d,onRemoveGroup:p,onToggleGroup:b,onToggleAllGroups:m,onChange:t.onChange})}))}))})),(0,i.addFilter)("carbon-fields.date_time.metabox","carbon-fields/metaboxes",(function(e){return function(t){return wp.element.createElement(e,Oe({buttonText:(0,o.__)("Select Date","carbon-fields-ui")},t))}})),(0,i.addFilter)("carbon-fields.file.metabox","carbon-fields/metaboxes",(function(e){return function(t){return wp.element.createElement(e,Oe({buttonLabel:(0,o.__)("Select File","carbon-fields-ui"),mediaLibraryButtonLabel:(0,o.__)("Use File","carbon-fields-ui"),mediaLibraryTitle:(0,o.__)("Select File","carbon-fields-ui")},t))}})),(0,i.addFilter)("carbon-fields.image.metabox","carbon-fields/metaboxes",(function(e){return function(t){return wp.element.createElement(e,Oe({buttonLabel:(0,o.__)("Select Image","carbon-fields-ui"),mediaLibraryButtonLabel:(0,o.__)("Use Image","carbon-fields-ui"),mediaLibraryTitle:(0,o.__)("Select Image","carbon-fields-ui")},t))}})),n(825),n(365),(0,i.addFilter)("carbon-fields.media_gallery.metabox","carbon-fields/metaboxes",(function(e){return function(t){return wp.element.createElement(e,Oe({buttonLabel:(0,o.__)("Select Attachments","carbon-fields-ui"),mediaLibraryButtonLabel:(0,o.__)("Use Attachments","carbon-fields-ui"),mediaLibraryTitle:(0,o.__)("Select Attachments","carbon-fields-ui")},t))}})),n(977),(0,i.addFilter)("carbon-fields.sidebar.metabox","carbon-fields/metaboxes",(0,a.withDispatch)((function(e){return{onAdded:e("carbon-fields/metaboxes").receiveSidebar}}))),(0,i.addFilter)("carbon-fields.field-edit.metabox","carbon-fields/metaboxes",(0,$.compose)(W,oe,(0,a.withDispatch)((function(e){if(ie()){var t=e("core/editor");return{lockSaving:t.lockPostSaving,unlockSaving:t.unlockPostSaving}}var n=e("carbon-fields/metaboxes");return{lockSaving:n.lockSaving,unlockSaving:n.unlockSaving}})),b.withValidation));var we=n(319);const _e=(0,we.withEffects)((function(){return(0,b.fromSelector)((0,a.select)("carbon-fields/metaboxes").isSavingLocked)}),{handler:function(){return function(e){document.querySelectorAll('\n\t\t\t#publishing-action input#publish,\n\t\t\t#publishing-action input#save,\n\t\t\t#addtag input#submit,\n\t\t\t#edittag input[type="submit"],\n\t\t\t#your-profile input#submit\n\t\t').forEach((function(t){t.disabled=e}))}}})((function(){return null})),je=(...e)=>t=>(n,r)=>{if(0!==n)return;let o,i,a=!1,c=!1;for(r(0,((t,n)=>{c&&1===t&&(i=[1,n]),2===t&&(a=!0,e.length=0),o&&o(t,n)}));0!==e.length;)1===e.length&&(c=!0),r(1,e.shift());a||t(0,((e,t)=>{if(0===e)return o=t,c=!1,void(i&&(o(...i),i=null));r(e,t)}))};function Ee(e){var t=parseInt(e.value,10);return!isNaN(t)&&t>=0?t:0}function Pe(e){var t=0;if(e.className){var n=e.className.match(/^level-(\d+)/);n&&(t=parseInt(n[1],10)+1)}return t}function Se(e){for(var t=[],n=e,r=Pe(e);r>0&&n;)if(Pe(n)===r){var o=parseInt(n.value,10);o>0&&t.unshift(o),n=n.previousSibling,r--}else n=n.previousSibling;return t}var xe={post_ancestors:[],post_parent_id:0,post_level:1};function De(e){var t=e.options[e.selectedIndex];return{post_ancestors:Se(t),post_parent_id:Ee(t),post_level:Pe(t)+1}}(0,i.addFilter)("carbon-fields.conditional-display-post-parent.classic","carbon-fields/metaboxes",(function(){var e=document.querySelector("select#parent_id");return e?(0,te.pipe)(te.fromEvent.default(e,"change"),(0,te.map)((function(e){return De(e.target)})),je(De(e))):X(xe)})),(0,i.addFilter)("carbon-fields.conditional-display-post-parent.gutenberg","carbon-fields/metaboxes",(function(){var e=(0,a.select)("core"),t=e.getPostType,n=e.getEntityRecords;return(0,te.pipe)((0,te.combine)((0,b.fromSelector)((0,a.select)("core/editor").getCurrentPostId),(0,b.fromSelector)((0,a.select)("core/editor").getEditedPostAttribute,"type"),(0,b.fromSelector)((0,a.select)("core/editor").getEditedPostAttribute,"parent")),ee(c.isEqual),(0,te.map)((function(e){var r=J(e,3),o=r[0],i=r[1],a=r[2];if(a=parseInt(a,10),isNaN(a))return xe;var u=t(i);if(!(0,c.get)(u,["hierarchical"],!1))return xe;var l=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=(0,c.find)(n,["id",t]);return o?(r.unshift(o.id),o.parent?e(o.parent,n,r):r):r}(a,n("postType",i,{per_page:-1,exclude:o,parent_exclude:o,orderby:"menu_order",order:"asc"})||[]);return{post_ancestors:l,post_parent_id:a,post_level:l.length+1}})))}));const Ie=(e,t,n)=>(r,o)=>{if(0!==r)return;let i=!1;const a=e=>{o(1,e)};if(o(0,(r=>{if(2===r)if(i=!0,e.removeEventListener)e.removeEventListener(t,a,n);else{if(!e.removeListener)throw new Error("cannot remove listener from node. No method found.");e.removeListener(t,a)}})),!i)if(e.addEventListener)e.addEventListener(t,a,n);else{if(!e.addListener)throw new Error("cannot add listener to node. No method found.");e.addListener(t,a)}};var Fe=n(996),Te=n.n(Fe);const Ae=(e,t,n)=>Te()((n=>{let r=n.target;for(;r!==e;){if(r.matches(t))return!0;r=r.parentElement}return!1}))(Ie(e,n));var Ce={post_format:"standard"};function ke(e){var t=e.value;return"0"===t&&(t="standard"),{post_format:t}}(0,i.addFilter)("carbon-fields.conditional-display-post-format.classic","carbon-fields/metaboxes",(function(){var e=document.querySelector("div#post-formats-select");return e?(0,te.pipe)(Ae(e,"input.post-format","change"),(0,te.map)((function(e){return ke(e.target)})),je(ke(e.querySelector("input.post-format:checked")))):X(Ce)})),(0,i.addFilter)("carbon-fields.conditional-display-post-format.gutenberg","carbon-fields/metaboxes",(function(){return(0,te.pipe)((0,b.fromSelector)((0,a.select)("core/editor").getEditedPostAttribute,"format"),ee(),(0,te.filter)(Boolean),(0,te.map)((function(e){return{post_format:e}})),je(Ce))}));var Ne={post_template:""};function Re(e){var t=e.value;return"default"===t&&(t=""),{post_template:t}}function Ge(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t){e["original_".concat(t)]=e[t],e[t]=function(){var n=new Event("change"),r=window.jQuery(arguments.length<=0?void 0:arguments[0]).closest(".postbox").find("textarea.the-tags").get(0),o=e["original_".concat(t)].apply(e,arguments);return r.dispatchEvent(n),o}}(0,i.addFilter)("carbon-fields.conditional-display-post-template.classic","carbon-fields/metaboxes",(function(){var e=document.querySelector("select#page_template");return e?(0,te.pipe)(te.fromEvent.default(e,"change"),(0,te.map)((function(e){return Re(e.target)})),je(Re(e))):X(Ne)})),(0,i.addFilter)("carbon-fields.conditional-display-post-template.gutenberg","carbon-fields/metaboxes",(function(){return(0,te.pipe)((0,b.fromSelector)((0,a.select)("core/editor").getEditedPostAttribute,"template"),ee(),(0,te.filter)(c.isString),(0,te.map)((function(e){return{post_template:e}})),je(Ne))})),window.tagBox&&(Ue(window.tagBox,"parseTags"),Ue(window.tagBox,"flushTags")),(0,i.addFilter)("carbon-fields.conditional-display-post-term.classic","carbon-fields/metaboxes",(function(){return(0,te.pipe)(te.merge.apply(void 0,Ge(Ge(document.querySelectorAll('div[id^="taxonomy-"]')).map((function(e){var t=e.id.replace("taxonomy-","");return(0,te.pipe)(Ae(e.querySelector("#".concat(t,"checklist")),'input[type="checkbox"]',"change"),(0,te.scan)((function(e,n){var r=n.target;return p()(e,(function(e){var n=parseInt(r.value,10);r.checked?e[t].push(n):(0,c.pull)(e[t],n)}))}),f({},t,[])),je(function(e){return Ge(document.querySelectorAll("#".concat(e,'checklist input[type="checkbox"]:checked'))).reduce((function(t,n){var r=parseInt(n.value,10);return t[e].push(r),t}),f({},e,[]))}(t)))}))).concat(Ge(Ge(document.querySelectorAll('div[id^="tagsdiv-"]')).map((function(e){var t=e.id.replace("tagsdiv-","");return(0,te.pipe)(te.fromEvent.default(e.querySelector("textarea.the-tags"),"change"),(0,te.map)((function(e){var n=e.target;return f({},t,n.value?n.value.split(","):[])})),je(function(e){var t=document.querySelector("#tagsdiv-".concat(e," textarea.the-tags"));return f({},e,t.value?t.value.split(","):[])}(t)))}))))),(0,te.scan)((function(e,t){return{post_term:Be(Be({},e.post_term),t)}}),{post_term:{}}))})),(0,i.addFilter)("carbon-fields.conditional-display-post-term.gutenberg","carbon-fields/metaboxes",(function(){var e=(0,a.select)("core").getTaxonomies,t=(0,a.select)("core/editor").getEditedPostAttribute;return(0,te.pipe)((0,b.fromSelector)(e,{per_page:-1}),(0,te.filter)(Boolean),(0,te.map)((function(e){var n=e.map((function(e){return[e.slug,t(e.rest_base)||[]]}));return{post_term:(0,c.fromPairs)(n)}})))}));var Ve={term_ancestors:[],term_parent:0,term_level:1};function qe(e){var t=e.options[e.selectedIndex];return{term_ancestors:Se(t),term_parent:Ee(t),term_level:Pe(t)+1}}(0,i.addFilter)("carbon-fields.conditional-display-term-parent.classic","carbon-fields/metaboxes",(function(){var e=document.querySelector("select#parent");return e?(0,te.pipe)(te.fromEvent.default(e,"change"),(0,te.map)((function(e){return qe(e.target)})),je(qe(e))):X(Ve)}));var Me={user_role:""};function Qe(e){return{user_role:e.value}}(0,i.addFilter)("carbon-fields.conditional-display-user-role.classic","carbon-fields/metaboxes",(function(){var e=document.querySelector("select#role");if(!e){var t=document.querySelector("fieldset[data-profile-role]");return X(t?{user_role:t.dataset.profileRole}:Me)}return(0,te.pipe)(te.fromEvent.default(e,"change"),(0,te.map)((function(e){return Qe(e.target)})),je(Qe(e)))}));const Ke=(0,$.createHigherOrderComponent)((function(e){return(0,a.withSelect)((function(e,t){var n=t.id;return{container:e("carbon-fields/metaboxes").getContainerById(n)}}))(e)}),"withContainer");(0,i.addFilter)("carbon-fields.register-container-type","carbon-fields/metaboxes",(function(e,t,n){return(0,$.compose)(Ke,(0,b.withFilters)("carbon-fields.".concat(e,".").concat(t)))(n)})),n(308),(0,i.addFilter)("carbon-fields.widget.classic","carbon-fields/metaboxes",(0,we.withEffects)((function(){return(0,b.fromSelector)((0,a.select)("carbon-fields/metaboxes").isFieldUpdated)}),{handler:function(e){return function(t){var n=t.action;if(n){var r=e.container,o=n.payload;r.fields.map((function(e){return e.id})).indexOf(o.fieldId)>=0&&window.jQuery(".container-".concat(r.id)).closest(".widget-inside").trigger("change")}}}}));var $e=n(877),We=n.n($e);function ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};return We()((function(r){var o=function(){return r(1,n.apply(void 0,arguments))};return e(o),function(){return t(o)}}))}(0,i.addFilter)("carbon-fields.term_meta.classic","carbon-fields/metaboxes",(0,we.withEffects)((function(){return(0,te.pipe)(ze((function(e){return window.jQuery(document).on("ajaxSuccess",e)}),(function(e){return window.jQuery(document).off("ajaxSuccess",e)}),(function(e,t,n,r){return{options:n,data:r}})),(0,te.filter)((function(e){var t=e.options,n=e.data;return t.data&&t.data.indexOf("carbon_fields_container")>-1&&t.data.indexOf("add-tag")>-1&&!n.documentElement.querySelector("wp_error")})))}),{handler:function(e){return function(){var t=u().map(e.container.fields,"id"),n=q(u().get(window.cf,"preloaded.containers",[])),r=n.containers,o=n.fields,i=u().find(r,["id",e.id]),c=u().filter(o,["container_id",e.id]),l=(0,a.dispatch)("carbon-fields/metaboxes"),s=l.updateState,f=l.removeFields;s(u().keyBy([i],"id"),u().keyBy(c,"id")),f(t)}}})),n(669),(0,i.addFilter)("carbon-fields.theme_options.classic","carbon-fields/metaboxes",(0,we.withEffects)((function(){return(0,te.pipe)(Ie(window,"scroll"),(0,te.map)((function(){return window.jQuery(window).scrollTop()})))}),{handler:function(){return function(e){var t=window.jQuery(".carbon-box:first"),n=window.jQuery("#postbox-container-1"),r=window.jQuery("#wpadminbar").height()+10,o=t.offset().top-r;o>0&&n.toggleClass("fixed",e>=o).css("top",r)}}})),n(210);var He=n(831),Je=n.n(He);n(678);const Xe=function(e){de(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}(n);function n(){var e;ce(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return f(se(e=t.call.apply(t,[this].concat(o))),"state",{currentTab:null}),f(se(e),"renderField",(function(t){var n=(0,b.getFieldType)(t.type,"metabox");return n?wp.element.createElement(ye,{key:t.id,id:t.id},wp.element.createElement(n,{id:t.id,containerId:e.props.id})):null})),f(se(e),"handleTabClick",(function(t){e.setState({currentTab:t})})),e}return le(n,[{key:"componentDidMount",value:function(){var e=this.props.container;this.isTabbed(e)&&this.setState({currentTab:Object.keys(e.settings.tabs)[0]})}},{key:"isTabbed",value:function(e){return(0,c.isPlainObject)(e.settings.tabs)}},{key:"render",value:function(){var e=this,t=this.state.currentTab,n=this.props.container,r=this.isTabbed(n),o=Je()(["cf-container","cf-container-".concat(n.id),"cf-container-".concat((0,c.kebabCase)(n.type))].concat(Ge(n.classes),[f({"cf-container--plain":!r},"cf-container--tabbed cf-container--".concat(n.layout),r)]));return wp.element.createElement("div",{className:o},wp.element.createElement("input",{type:"hidden",name:n.nonce.name,value:n.nonce.value}),r&&wp.element.createElement("div",{className:"cf-container__tabs cf-container__tabs--".concat(n.layout)},wp.element.createElement("ul",{className:"cf-container__tabs-list"},(0,c.map)(n.settings.tabs,(function(n,r){var o=Je()("cf-container__tabs-item",{"cf-container__tabs-item--current":r===t});return wp.element.createElement("li",{key:r,className:o,tabIndex:-1,role:"tab","aria-selected":t===r},wp.element.createElement("button",{type:"button",onClick:function(){return e.handleTabClick(r)},dangerouslySetInnerHTML:{__html:r}}))})))),r&&(0,c.map)(n.settings.tabs,(function(r,o){return wp.element.createElement("div",{className:"cf-container__fields",key:o,hidden:o!==t},(0,c.map)(r,(function(t){var r=(0,c.find)(n.fields,["name",t]);return e.renderField(r)})))})),!r&&wp.element.createElement("div",{className:"cf-container__fields"},(0,c.map)(n.fields,this.renderField)))}}]),n}(me.Component);var Ye=(0,b.createRegistry)("container",["classic","gutenberg"]),Ze=Ye.registerContainerType,et=Ye.getContainerType;function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt={};function ot(e,t){var n,r,i=document.querySelector(".container-".concat(e.id)),a=et(e.type,t);if(i){var c=wp.element.createElement(a,{id:e.id});if(me.createRoot){var u=(0,me.createRoot)(i);u.render(c),n=e.id,r=u,rt[n]=nt(nt({createdAt:Math.floor(Date.now()/1e3)},r),{},{unmount:function(){parseFloat(window.cf.config.wp_version)>=6.2?Math.floor(Date.now()/1e3)-rt[n].createdAt>=3&&(r.unmount(),delete rt[n]):(r.unmount(),delete rt[n])}})}else(0,me.render)(c,i,(function(){i.dataset.mounted=!0}))}else console.error((0,o.sprintf)((0,o.__)('Could not find DOM element for container "%1$s".',"carbon-fields-ui"),e.id))}["post_meta","term_meta","user_meta","comment_meta","network","theme_options","nav_menu_item","widget"].forEach((function(e){return Ze(e,Xe)}));const it={operators:[],isOperatorSupported:function(e){return this.operators.indexOf(e)>-1},evaluate:function(){return!1}};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const dt={comparers:[ct(ct({},it),{},{operators:["=","!="],evaluate:function(e,t,n){switch(t){case"=":return e==n;case"!=":return e!=n;default:return!1}}}),lt(lt({},it),{},{operators:["IN","NOT IN"],evaluate:function(e,t,n){switch(t){case"IN":return n.indexOf(e)>-1;case"NOT IN":return-1===n.indexOf(e);default:return!1}}}),ft(ft({},it),{},{operators:[">",">=","<","<="],evaluate:function(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;default:return!1}}})],isFulfiled:function(e,t){var n=e.compare,r=e.value;return this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),n,r)},firstComparerIsCorrect:function(e,t,n){var r=(0,c.find)(this.comparers,(function(e){return e.isOperatorSupported(t)}));return r?r.evaluate(e,t,n):(console.error((0,o.sprintf)((0,o.__)('Unsupported container condition comparison operator used - "%1$s".',"carbon-fields-ui"),t)),!1)},getEnvironmentValue:function(e,t){return t[e.type]}};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const mt=bt(bt({},dt),{},{getEnvironmentValue:function(){return!0}});function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const gt=vt(vt({},it),{},{operators:["=","!="],evaluate:function(e,t,n){switch(t){case"=":return(0,c.includes)(e,n);case"!=":return!(0,c.includes)(e,n);default:return!1}}});function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const wt=Ot(Ot({},dt),{},{comparers:[gt],isFulfiled:function(e,t){var n=this,r=e.compare,o=e.value;if((0,c.isArray)(o)){var i;switch(r){case"IN":r="=",i="some";break;case"NOT IN":r="!=",i="every";break;default:return!1}return o.map((function(o){return n.isFulfiled(Ot(Ot({},e),{},{compare:r,value:o}),t)}))[i](Boolean)}return o=o.taxonomy_object.hierarchical?o.term_object.term_id:o.term_object.name,this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),r,o)},getEnvironmentValue:function(e,t){return(0,c.get)(t,"post_term.".concat(e.value.taxonomy),[])}});function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Et=jt(jt({},dt),{},{isFulfiled:function(e,t){if("default"===(e=jt({},e)).value)e.value="";else if((0,c.isArray)(e.value)){var n=e.value.indexOf("default");-1!==n&&(e.value[n]="")}return dt.isFulfiled(e,t)}});function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const xt=St(St({},it),{},{operators:["IN","NOT IN"],evaluate:function(e,t,n){switch(t){case"IN":return(0,c.intersection)(e,n).length>0;case"NOT IN":return 0===(0,c.intersection)(e,n).length;default:return!1}}});function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ft=It(It({},dt),{},{comparers:[gt,xt],getEnvironmentValue:function(e,t){return(0,c.get)(t,"post_ancestors",[])}});function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ct=At(At({},dt),{},{isFulfiled:function(e,t){var n=e.compare,r=e.value;return(0,c.isArray)(r)?r=r.map((function(e){return e.term_object.term_id})):(0,c.isPlainObject)(r)&&(r=r.term_object.term_id),this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),n,r)}});function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Rt=Nt(Nt({},dt),{},{comparers:[gt,xt],isFulfiled:function(e,t){var n=e.compare,r=e.value;return(0,c.isArray)(r)?r=r.map((function(e){return e.term_object.term_id})):(0,c.isPlainObject)(r)&&(r=r.term_object.term_id),this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),n,r)},getEnvironmentValue:function(e,t){return(0,c.get)(t,"term_ancestors",[])}});var Gt={boolean:mt,post_term:wt,post_ancestor_id:Ft,post_parent_id:dt,post_level:dt,post_format:dt,post_template:Et,term_level:dt,term_parent:Ct,term_ancestor:Rt,user_role:dt};function Lt(e,t,n){var r=e.map((function(e){if(e.relation)return Lt(e.conditions,t,e.relation);var n=(0,c.get)(Gt,e.type);return n?n.isFulfiled(e,t):(console.error((0,o.sprintf)((0,o.__)('Unsupported container condition - "%1$s".',"carbon-fields-ui"),e.type)),!1)}));switch(n){case"AND":return r.every(Boolean);case"OR":return r.some(Boolean);default:return console.error((0,o.sprintf)((0,o.__)('Unsupported container condition relation used - "%1$s".',"carbon-fields-ui"),n)),!1}}var Bt=(0,a.withSelect)((function(e){return{containers:e("carbon-fields/metaboxes").getContainers()}})),Ut=(0,we.withEffects)((function(e,t){var n=t.context,r=(0,i.applyFilters)("carbon-fields.conditional-display-post-parent.".concat(n)),o=(0,i.applyFilters)("carbon-fields.conditional-display-post-format.".concat(n)),a=(0,i.applyFilters)("carbon-fields.conditional-display-post-template.".concat(n)),u=(0,i.applyFilters)("carbon-fields.conditional-display-post-term.".concat(n)),l=(0,i.applyFilters)("carbon-fields.conditional-display-term-parent.".concat(n)),s=(0,i.applyFilters)("carbon-fields.conditional-display-user-role.".concat(n));return(0,te.pipe)((0,te.merge)(r,o,a,u,l,s),(0,te.scan)((function(e,t){return p()(e,(function(e){(0,c.assign)(e,t)}))})))}),{handler:function(e){var t=e.containers,n=e.context;return function(e){(0,c.map)(t,(function(t,n){return[n,Lt(t.conditions.conditions,e,t.conditions.relation)]})).forEach((function(e){var r,o=J(e,2),i=o[0],a=o[1],c=document.getElementById(i),u=document.querySelector(".container-".concat(i)),l=!(null==u||null===(r=u.dataset)||void 0===r||!r.mounted);if(c&&(c.hidden=!a),u)if(me.createRoot){var s=rt[i]||null;a&&!s&&ot(t[i],n),!a&&s&&s.unmount()}else{var f,d;a&&!l&&ot(t[i],n),!a&&l&&(null==u||null===(f=u.dataset)||void 0===f||delete f.mounted,null==u||null===(d=u._reactRootContainer)||void 0===d||d.unmount())}}))}}});const Vt=(0,$.compose)(Bt,Ut)((function(){return null}));function qt(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,(function(){return"%25"})).replace(/\+/g,"%20"))}const Mt=(0,we.withEffects)((function(){return(0,te.merge)((0,te.pipe)(ze((function(e){return window.jQuery(document).on("widget-added widget-updated",e)}),(function(e){return window.jQuery(document).off("widget-added widget-updated",e)}),(function(e,t){return{event:e,$widget:t}})),(0,te.filter)((function(e){return e.$widget[0].id.indexOf("carbon_fields_")>-1})),(0,te.map)((function(e){return{type:"WIDGET_CREATED_OR_UPDATED",payload:e}}))),(0,te.pipe)(ze((function(e){return window.jQuery(document).on("ajaxSend",e)}),(function(e){return window.jQuery(document).off("ajaxSend",e)}),(function(e,t,n,r){return{event:e,xhr:t,options:n,data:r}})),(0,te.filter)((function(e){var t=e.options;return(0,c.startsWith)(t.data,"carbon_fields_container_")})),(0,te.map)((function(e){return{type:"WIDGET_BEIGN_UPDATED_OR_DELETED",payload:e}}))))}),{handler:function(){return function(e){var t=(0,a.select)("carbon-fields/metaboxes").getContainerById,n=(0,a.dispatch)("carbon-fields/metaboxes"),r=n.addContainer,o=n.removeContainer,i=n.addFields,u=n.removeFields;switch(e.type){case"WIDGET_CREATED_OR_UPDATED":var l=e.payload,s=l.event,f=l.$widget,d=(0,c.flow)(qt,JSON.parse)(f.find("[data-json]").data("json")),p=[];if(d.fields=d.fields.map((function(e){return V(e,d,p)})),i(p),r(d),ot(d,"classic"),"customize.php"===window.cf.config.pagenow&&"widget-added"===s.type){var b=f.find('[name="widget-id"]').val();f.find('[name="savewidget"]').show().end().find(".widget-content:first").off("keydown","input").off("change input propertychange",":input"),wp.customize.Widgets.getWidgetFormControlForWidget(b).liveUpdateMode=!1}break;case"WIDGET_BEIGN_UPDATED_OR_DELETED":var m=J(e.payload.options.data.match(/widget-id=(.+?)&/),2)[1],y="".concat("carbon_fields_container_").concat(m),v=t(y);(0,me.unmountComponentAtNode)(document.querySelector(".container-".concat(y)));var g=_.map(v.fields,"id");o(y),u(g)}}}})((function(){return null})),Qt=(0,a.withSelect)((function(e){return{isDirty:e("carbon-fields/metaboxes").isDirty()}}))((function(e){return wp.element.createElement("input",{type:"hidden",name:window.cf.config.revisionsInputKey,disabled:!e.isDirty,value:"1"})}));(0,o.setLocaleData)(window.cf.config.locale,"carbon-fields-ui");var Kt=ie()?"gutenberg":"classic";(0,i.addAction)("carbon-fields.init","carbon-fields/metaboxes",(function(){!function(e){var t=(0,a.select)("carbon-fields/metaboxes").getContainers();(0,c.forEach)(t,(function(t){ot(t,e)}))}(Kt),function(e){var t=window.cf.config.pagenow,n=document.createElement("div"),r=wp.element.createElement(me.Fragment,null,!ie()&&wp.element.createElement(_e,null),("widgets.php"===t||"customize.php"===t)&&wp.element.createElement(Mt,null),wp.element.createElement(Vt,{context:e}));me.createRoot?(0,me.createRoot)(n).render(r):(0,me.render)(r,n);var o=document.querySelector("#poststuff");if(o){var i=document.createElement("div"),a=wp.element.createElement(Qt,null),c=o.appendChild(i);me.createRoot?(0,me.createRoot)(c).render(a):(0,me.render)(a,c)}}(Kt)}))})(),(this.cf=this.cf||{}).metaboxes=r})();